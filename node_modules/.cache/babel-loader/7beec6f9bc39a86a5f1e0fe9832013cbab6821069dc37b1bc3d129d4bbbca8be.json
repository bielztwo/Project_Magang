{"ast":null,"code":"import Chart from 'chart.js/auto';\nimport axios from '@/axios';\nexport default {\n  data() {\n    return {\n      items: [],\n      chart: null\n    };\n  },\n  methods: {\n    getData() {\n      axios.get(\"/all\").then(response => {\n        this.items = response.data;\n        //let latestData = this.items.slice(-1);\n        this.updateChart();\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    updateChart() {\n      // Access the canvas element and create a chart with the fetched data\n      let ctx1 = document.getElementById('ultrasonicChart').getContext('2d');\n      let ctx2 = document.getElementById('nutritionChart').getContext('2d');\n      let ctx3 = document.getElementById('temperatureChart').getContext('2d');\n      let ctx4 = document.getElementById('phChart').getContext('2d');\n\n      // Get the latest 10 values from the fetched data\n      let latestItems = this.items.slice(-10); // Get the last 10 items\n      let labels1 = latestItems.map(item => item.created_at); // Get the created_at values for the labels\n      let values1 = latestItems.map(item => item.ultrasonic); // Get the ultrasonic values for the data\n      let labels2 = latestItems.map(item => item.created_at); // Get the created_at values for the labels\n      let values2 = latestItems.map(item => item.nutrition); // Get the nutrition values for the data\n      let labels3 = latestItems.map(item => item.created_at); // Get the created_at values for the labels\n      let values3 = latestItems.map(item => item.temperature); // Get the temperature values for the data\n      let labels4 = latestItems.map(item => item.created_at); // Get the created_at values for the labels\n      let values4 = latestItems.map(item => item.ph); // Get the ph values for the data\n\n      if (this.ultrasonicchart) {\n        this.ultrasonicchart.destroy(); // Destroy existing Chart instance\n      }\n\n      this.ultrasonicchart = new Chart(ctx1, {\n        type: 'line',\n        // Set the chart type to bar\n        data: {\n          labels: labels1,\n          // Set the labels for the x-axis\n          datasets: [{\n            label: 'Water Level (Cm)',\n            // Set the label for the chart\n            data: values1,\n            // Set the data for the y-axis\n            backgroundColor: 'rgba(75, 192, 192, 0.2)',\n            // Set the background color for the bars\n            borderColor: 'rgba(75, 192, 192, 1)',\n            // Set the border color for the bars\n            borderWidth: 1 // Set the border width for the bars\n          }, {\n            label: 'Nutrition (ppm)',\n            // Set the label for the chart\n            data: values2,\n            // Set the data for the y-axis\n            backgroundColor: 'rgba(75, 192, 192, 0.2)',\n            // Set the background color for the bars\n            borderColor: 'rgba(75, 192, 192, 1)',\n            // Set the border color for the bars\n            borderWidth: 1 // Set the border width for the bars\n          }]\n        },\n\n        options: {\n          animation: false,\n          responsive: true,\n          scales: {\n            y: {\n              beginAtZero: true\n            }\n          }\n        }\n      });\n      if (this.nutritionchart) {\n        this.nutritionchart.destroy(); // Destroy existing Chart instance\n      }\n\n      this.nutritionchart = new Chart(ctx2, {\n        type: 'line',\n        // Set the chart type to bar\n        data: {\n          labels: labels2,\n          // Set the labels for the x-axis\n          datasets: [{\n            label: 'Nutrition (ppm)',\n            // Set the label for the chart\n            data: values2,\n            // Set the data for the y-axis\n            backgroundColor: 'rgba(75, 192, 192, 0.2)',\n            // Set the background color for the bars\n            borderColor: 'rgba(75, 192, 192, 1)',\n            // Set the border color for the bars\n            borderWidth: 1 // Set the border width for the bars\n          }]\n        },\n\n        options: {\n          animation: false,\n          responsive: true,\n          scales: {\n            y: {\n              beginAtZero: true\n            }\n          }\n        }\n      });\n      if (this.temperaturechart) {\n        this.temperaturechart.destroy(); // Destroy existing Chart instance\n      }\n\n      this.temperaturechart = new Chart(ctx3, {\n        type: 'line',\n        // Set the chart type to bar\n        data: {\n          labels: labels3,\n          // Set the labels for the x-axis\n          datasets: [{\n            label: 'Temperature (C)',\n            // Set the label for the chart\n            data: values3,\n            // Set the data for the y-axis\n            backgroundColor: 'rgba(75, 192, 192, 0.2)',\n            // Set the background color for the bars\n            borderColor: 'rgba(75, 192, 192, 1)',\n            // Set the border color for the bars\n            borderWidth: 1 // Set the border width for the bars\n          }]\n        },\n\n        options: {\n          animation: false,\n          responsive: true,\n          scales: {\n            y: {\n              beginAtZero: true\n            }\n          }\n        }\n      });\n      if (this.phchart) {\n        this.phchart.destroy(); // Destroy existing Chart instance\n      }\n\n      this.phchart = new Chart(ctx4, {\n        type: 'line',\n        // Set the chart type to bar\n        data: {\n          labels: labels4,\n          // Set the labels for the x-axis\n          datasets: [{\n            label: 'PH',\n            // Set the label for the chart\n            data: values4,\n            // Set the data for the y-axis\n            backgroundColor: 'rgba(75, 192, 192, 0.2)',\n            // Set the background color for the bars\n            borderColor: 'rgba(75, 192, 192, 1)',\n            // Set the border color for the bars\n            borderWidth: 1 // Set the border width for the bars\n          }]\n        },\n\n        options: {\n          animation: false,\n          responsive: true,\n          scales: {\n            y: {\n              beginAtZero: true\n            }\n          }\n        }\n      });\n    }\n  },\n  mounted() {\n    setInterval(this.getData, 2000);\n  }\n};","map":{"version":3,"names":["Chart","axios","data","items","chart","methods","getData","get","then","response","updateChart","catch","error","console","log","ctx1","document","getElementById","getContext","ctx2","ctx3","ctx4","latestItems","slice","labels1","map","item","created_at","values1","ultrasonic","labels2","values2","nutrition","labels3","values3","temperature","labels4","values4","ph","ultrasonicchart","destroy","type","labels","datasets","label","backgroundColor","borderColor","borderWidth","options","animation","responsive","scales","y","beginAtZero","nutritionchart","temperaturechart","phchart","mounted","setInterval"],"sources":["C:\\Users\\LEGION\\t\\Project_Magang-1\\src\\components\\HelloWorld.vue"],"sourcesContent":["<template>\r\n  <div class=\"hello\">\r\n    <h1>Fetch Sensor Data</h1>\r\n    <h2 style=\"text-align: center;\">Items</h2>\r\n    <body>\r\n      <canvas id=\"ultrasonicChart\"></canvas>\r\n      <canvas id=\"nutritionChart\"></canvas>\r\n      <canvas id=\"temperatureChart\"></canvas>\r\n      <canvas id=\"phChart\"></canvas>\r\n        \r\n      <h4 v-for=\"item in items\" :key=\"item.id\">Water Level: {{ latestData.ultrasonic }} Cm</h4>\r\n      <h4 v-for=\"item in items\" :key=\"item.id\">Nutrition: {{ latestData.nutrition }} PPM</h4>\r\n      <h4 v-for=\"item in items\" :key=\"item.id\">Water Temperature: {{ latestData.temperature }} C</h4>\r\n      <h4 v-for=\"item in items\" :key=\"item.id\">Ph: {{ latestData.ph }} </h4>\r\n    </body>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Chart from 'chart.js/auto';\r\nimport axios from '@/axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      items: [],\r\n      chart: null\r\n    }\r\n  },\r\n  methods: {\r\n    getData() {\r\n      axios\r\n      .get(\"/all\")\r\n      .then((response) => {\r\n        this.items = response.data;\r\n        //let latestData = this.items.slice(-1);\r\n        this.updateChart();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      })\r\n    },\r\n    updateChart() {\r\n      // Access the canvas element and create a chart with the fetched data\r\n      let ctx1 = document.getElementById('ultrasonicChart').getContext('2d');\r\n      let ctx2 = document.getElementById('nutritionChart').getContext('2d');\r\n      let ctx3 = document.getElementById('temperatureChart').getContext('2d');\r\n      let ctx4 = document.getElementById('phChart').getContext('2d');\r\n\r\n      // Get the latest 10 values from the fetched data\r\n      let latestItems = this.items.slice(-10); // Get the last 10 items\r\n      let labels1 = latestItems.map(item => item.created_at); // Get the created_at values for the labels\r\n      let values1 = latestItems.map(item => item.ultrasonic); // Get the ultrasonic values for the data\r\n      let labels2 = latestItems.map(item => item.created_at); // Get the created_at values for the labels\r\n      let values2 = latestItems.map(item => item.nutrition); // Get the nutrition values for the data\r\n      let labels3 = latestItems.map(item => item.created_at); // Get the created_at values for the labels\r\n      let values3 = latestItems.map(item => item.temperature); // Get the temperature values for the data\r\n      let labels4 = latestItems.map(item => item.created_at); // Get the created_at values for the labels\r\n      let values4 = latestItems.map(item => item.ph); // Get the ph values for the data\r\n\r\n      \r\n      if (this.ultrasonicchart) {\r\n        this.ultrasonicchart.destroy(); // Destroy existing Chart instance\r\n      }\r\n      this.ultrasonicchart = new Chart(ctx1, {\r\n        type: 'line', // Set the chart type to bar\r\n        data: {\r\n          labels: labels1, // Set the labels for the x-axis\r\n          datasets: [{\r\n            label: 'Water Level (Cm)', // Set the label for the chart\r\n            data: values1, // Set the data for the y-axis\r\n            backgroundColor: 'rgba(75, 192, 192, 0.2)', // Set the background color for the bars\r\n            borderColor: 'rgba(75, 192, 192, 1)', // Set the border color for the bars\r\n            borderWidth: 1 // Set the border width for the bars\r\n          },\r\n          {\r\n            label: 'Nutrition (ppm)', // Set the label for the chart\r\n            data: values2, // Set the data for the y-axis\r\n            backgroundColor: 'rgba(75, 192, 192, 0.2)', // Set the background color for the bars\r\n            borderColor: 'rgba(75, 192, 192, 1)', // Set the border color for the bars\r\n            borderWidth: 1 // Set the border width for the bars\r\n          }]\r\n        },\r\n        options: {\r\n          animation: false,\r\n          responsive: true,\r\n          scales: {\r\n            y: {\r\n              beginAtZero: true\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      if (this.nutritionchart) {\r\n        this.nutritionchart.destroy(); // Destroy existing Chart instance\r\n      }\r\n      this.nutritionchart = new Chart(ctx2, {\r\n        type: 'line', // Set the chart type to bar\r\n        data: {\r\n          labels: labels2, // Set the labels for the x-axis\r\n          datasets: [{\r\n            label: 'Nutrition (ppm)', // Set the label for the chart\r\n            data: values2, // Set the data for the y-axis\r\n            backgroundColor: 'rgba(75, 192, 192, 0.2)', // Set the background color for the bars\r\n            borderColor: 'rgba(75, 192, 192, 1)', // Set the border color for the bars\r\n            borderWidth: 1 // Set the border width for the bars\r\n          }]\r\n        },\r\n        options: {\r\n          animation: false,\r\n          responsive: true,\r\n          scales: {\r\n            y: {\r\n              beginAtZero: true\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      if (this.temperaturechart) {\r\n        this.temperaturechart.destroy(); // Destroy existing Chart instance\r\n      }\r\n      this.temperaturechart = new Chart(ctx3, {\r\n        type: 'line', // Set the chart type to bar\r\n        data: {\r\n          labels: labels3, // Set the labels for the x-axis\r\n          datasets: [{\r\n            label: 'Temperature (C)', // Set the label for the chart\r\n            data: values3, // Set the data for the y-axis\r\n            backgroundColor: 'rgba(75, 192, 192, 0.2)', // Set the background color for the bars\r\n            borderColor: 'rgba(75, 192, 192, 1)', // Set the border color for the bars\r\n            borderWidth: 1 // Set the border width for the bars\r\n          }]\r\n        },\r\n        options: {\r\n          animation: false,\r\n          responsive: true,\r\n          scales: {\r\n            y: {\r\n              beginAtZero: true\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      if (this.phchart) {\r\n        this.phchart.destroy(); // Destroy existing Chart instance\r\n      }\r\n      this.phchart = new Chart(ctx4, {\r\n        type: 'line', // Set the chart type to bar\r\n        data: {\r\n          labels: labels4, // Set the labels for the x-axis\r\n          datasets: [{\r\n            label: 'PH', // Set the label for the chart\r\n            data: values4, // Set the data for the y-axis\r\n            backgroundColor: 'rgba(75, 192, 192, 0.2)', // Set the background color for the bars\r\n            borderColor: 'rgba(75, 192, 192, 1)', // Set the border color for the bars\r\n            borderWidth: 1 // Set the border width for the bars\r\n          }]\r\n        },\r\n        options: {\r\n          animation: false,\r\n          responsive: true,\r\n          scales: {\r\n            y: {\r\n              beginAtZero: true\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n    },\r\n  },\r\n  mounted () {\r\n    setInterval(this.getData, 2000);\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\nh4 {\r\n  margin: 40px 0 0;\r\n}\r\nul {\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\nli {\r\n  display: inline-block;\r\n  margin: 0 10px;\r\n}\r\na {\r\n  color: #42b983;\r\n}\r\n\r\nh2{\r\n  margin-bottom: 70px;\r\n}\r\n.hello{\r\n  padding: 50px;\r\n}\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}